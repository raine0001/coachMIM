{% extends "base.html" %}
{% block content %}
  <div class="card">
    <h1>Log Meal</h1>
    <p class="muted">Log timing, composition, portions, tags, and optional photo.</p>
    <form method="post" action="{{ url_for('main.meal_save') }}" enctype="multipart/form-data">
      <div class="grid">
        <div>
          <label for="eaten_at">Eaten At</label>
          <input id="eaten_at" name="eaten_at" type="datetime-local" />
        </div>
        <div>
          <label for="label">Label</label>
          <input id="label" name="label" placeholder="Breakfast / Lunch / Dinner" />
        </div>
        <div>
          <label for="portion_notes">Portion Notes</label>
          <input id="portion_notes" name="portion_notes" placeholder="1 bowl, 2 slices..." />
        </div>
        <div>
          <label for="tags">Tags (comma-separated)</label>
          <input id="tags" name="tags" placeholder="high_carb, processed, salty" />
        </div>
        <div>
          <label for="calories">Calories</label>
          <input id="calories" name="calories" type="number" min="0" />
        </div>
        <div>
          <label for="protein_g">Protein (g)</label>
          <input id="protein_g" name="protein_g" type="number" min="0" step="0.1" />
        </div>
        <div>
          <label for="carbs_g">Carbs (g)</label>
          <input id="carbs_g" name="carbs_g" type="number" min="0" step="0.1" />
        </div>
        <div>
          <label for="fat_g">Fat (g)</label>
          <input id="fat_g" name="fat_g" type="number" min="0" step="0.1" />
        </div>
        <div>
          <label for="sugar_g">Sugar (g)</label>
          <input id="sugar_g" name="sugar_g" type="number" min="0" step="0.1" />
        </div>
        <div>
          <label for="sodium_mg">Sodium (mg)</label>
          <input id="sodium_mg" name="sodium_mg" type="number" min="0" step="0.1" />
        </div>
        <div>
          <label for="photo">Photo (optional)</label>
          <input id="photo" name="photo" type="file" accept=".png,.jpg,.jpeg,.webp,.heic" />
        </div>
      </div>
      <div style="margin-top: 12px;">
        <label for="description">Description</label>
        <textarea id="description" name="description" placeholder="What you ate and anything relevant (prep style, sauce, cravings, etc)."></textarea>
      </div>
      <div style="margin-top: 12px;">
        <button type="submit">Save Meal</button>
      </div>
    </form>
  </div>
{% endblock %}
